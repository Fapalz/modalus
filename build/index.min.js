/**
 * Modalus  1.0.4
 * GitHub template for starting new projects
 * https://github.com/Fapalz/@fapalz/modal#readme
 *
 * Copyright 2020-2023 Gladikov Kirill - Fapalz <blacesmot@gmail.com>
 *
 * Released under the MIT License
 *
 * Released on: December 6, 2023
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Modalus=e()}(this,(function(){"use strict";function t(){return t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t.apply(this,arguments)}var e="undefined"!=typeof window,n=("undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform&&WXEnvironment.platform.toLowerCase(),e&&window.navigator.userAgent.toLowerCase());n&&/msie|trident/.test(n);var i=n&&n.indexOf("msie 9.0")>0;n&&n.indexOf("edge/");n&&n.indexOf("android"),n&&/iphone|ipad|ipod|ios/.test(n),n&&/chrome\/\d+/.test(n),n&&/phantomjs/.test(n),n&&n.match(/firefox\/(\d+)/);var s="transition",o="animation",a="transition",r="transitionend",l="animation",d="animationend";e&&!i&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(a="WebkitTransition",r="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(l="WebkitAnimation",d="webkitAnimationEnd"));var h=e?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function c(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function u(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return c(e)+c(t[n])})))}var f=/\b(transform|all)(,|$)/;function m(t,e,n){var i=function(t,e){var n,i=window.getComputedStyle(t),r=(i[a+"Delay"]||"").split(", "),d=(i[a+"Duration"]||"").split(", "),h=u(r,d),c=(i[l+"Delay"]||"").split(", "),m=(i[l+"Duration"]||"").split(", "),p=u(c,m),v=0,g=0;return e===s?h>0&&(n=s,v=h,g=d.length):e===o?p>0&&(n=o,v=p,g=m.length):g=(n=(v=Math.max(h,p))>0?h>p?s:o:null)?n===s?d.length:m.length:0,{type:n,timeout:v,propCount:g,hasTransform:n===s&&f.test(i[a+"Property"])}}(t,e),h=i.type,c=i.timeout,m=i.propCount;if(!h)return n();var p=h===s?r:d,v=0,g=function(){t.removeEventListener(p,w),n()},w=function(e){e.target===t&&(v+=1)>=m&&g()};return setTimeout((function(){v<m&&g()}),c+1),t.addEventListener(p,w),t}var p=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];function v(t){if(!t)return!1;var e=t.querySelectorAll(p);return Array.apply(void 0,e)}var g=window.MODALUS_GLOBALS&&window.MODALUS_GLOBALS.NAMESPACE||"modalus",w=[],y=[],b={hashTracking:!0,closeOnButton:!0,closeOnEscape:!0,closeOnOutsideClick:!0,appendTo:null,catchFocus:!0,closeTrigger:"data-"+g+"-close",fixedSelector:"[data-"+g+"-fixed]",beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},E="closing",L="closed",O="opening",k="opened";function C(){for(var t=g,e=0;e<arguments.length;e+=1)t+="-"+arguments[e];return t}function x(t,e){var n,i=C("is",e),s=[C("is",E),C("is",O),C("is",L),C("is",k)];(n=t.element.classList).remove.apply(n,s),t.element.classList.add(i),t.state=e}var A=function(){function e(n,i){try{this.element=e.getElement(n)}catch(t){return}this.settings=t({},b,i),this.state=L,this.index=w.push(this)-1,this.isInit=!1,this.init()}e.getInstance=function(t){if(!t)return null;var e=t.getAttribute("data-"+g+"-index");return e?w[e]:null},e.getElement=function(t){var e,n="string"==typeof t?document.querySelector(t):t;if(!(e=n)||1!==e.nodeType)throw new Error("Element shold be is ELEMENT_NODE, check your parameter");return n},e.init=function(t,n){var i;void 0===n&&(n={});try{i=e.getElement(t)}catch(t){return null}var s=e.getInstance(i);return s||(s=new e(i,n)).settings.hashTracking&&s.hashID===window.location.hash.substr(1)&&s.open(),s},e.handleHashChangeEvent=function(){var t,n,i=window.location.hash.replace("#",""),s=y[y.length-1];if(i){try{n=document.querySelector("[data-"+g+'-id="'+i+'"]')}catch(t){console.log(t)}n&&(t=e.getInstance(n))&&t.settings.hashTracking&&t.open()}else s&&s.settings.hashTracking&&s.close()},e.handleClickEvent=function(t){var n=!1,i=t.target.closest("[data-"+g+"-trigger]");if(i){t.preventDefault();var s=i.getAttribute("data-modalus-trigger"),o=document.querySelector("[data-"+g+"-id="+s+"]");if(o){if(!(n=e.getInstance(o)))return;n.open()}return n}},e.handleKeydownEvent=function(t){if(y.length>0){var e=y[y.length-1];if(e.settings.closeOnEscape&&27===t.which)return t.preventDefault(),void e.close();e.settings.catchFocus&&9===t.which&&function(t,e){var n=v(e);if(0!==n.length)if(n=n.filter((function(t){return null!==t.offsetParent})),e.contains(document.activeElement)){var i=n.indexOf(document.activeElement);t.shiftKey&&0===i&&(n[n.length-1].focus(),t.preventDefault()),!t.shiftKey&&n.length>0&&i===n.length-1&&(n[0].focus(),t.preventDefault())}else n[0].focus(),t.preventDefault()}(t,e.element)}};var n=e.prototype;return n.init=function(){var t=this;this.isInit||(this.hashID=this.element.getAttribute("data-"+g+"-id"),this.scrollPosition=0,this.element.classList.add("is-initialized",C("is",L)),this.element.setAttribute("data-"+g+"-index",this.index),["onClick","onMouseDown","onMouseUp"].forEach((function(e){t[e]=t[e].bind(t)})),this.isOpened=!1,this.overlayChecker=!1,this.isInit=!0)},n.destroy=function(){this.close(),this.element.removeAttribute("data-"+g+"-index"),this.element.classList.remove("is-initialized");var t=w.indexOf(this);w.splice(t,1),this.isInit=!1},n.addListener=function(){this.element.addEventListener("click",this.onClick),this.element.addEventListener("mousedown",this.onMouseDown),this.element.addEventListener("mouseup",this.onMouseUp)},n.removeListener=function(){this.element.removeEventListener("click",this.onClick),this.element.removeEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("mouseup",this.onMouseUp)},n.onClick=function(t){this.settings.closeOnButton&&t.target.closest("["+this.settings.closeTrigger+"]")&&this.close(t)},n.onMouseDown=function(t){this.settings.closeOnOutsideClick&&this.state!==O&&this.state!==E&&t.target instanceof Element&&1===t.which&&t.target.hasAttribute("data-modalus-outside")&&(this.overlayChecker=!0)},n.onMouseUp=function(t){this.settings.closeOnOutsideClick&&(this.state!==O&&this.state!==E&&t.target instanceof Element&&this.overlayChecker&&t.target.hasAttribute("data-modalus-outside")&&(t.preventDefault(),this.close()),this.overlayChecker=!1)},n.open=function(){var t=this;if(this.state!==k&&this.state!==O&&this.state!==E){this.settings.beforeOpen(this,y);var e,n=y[y.length-1];n&&n.close(),this.hashID&&this.settings.hashTracking&&this.setHash(),x(this,O),this.element.classList.add("is-enter"),e=function(){t.addListener(),t.element.setAttribute("aria-hidden","false"),x(t,k),t.element.classList.add("is-enter-active"),function(t){if(t){var e=v(t);0!==e.length&&e[0].focus()}}(t.element),y.push(t),t.bodyScrollControl(),t.isOpened=!0,t.settings.afterOpen(t,y)},h((function(){h(e)}))}},n.close=function(){var t=this;if(this.state!==L&&this.state!==E&&this.state!==O){this.settings.beforeClose(this,y),this.settings.hashTracking&&this.hashID===window.location.hash.substr(1)&&this.deleteHash();var e=y.indexOf(this);y.splice(e,1),this.removeListener(),x(this,E),this.element.classList.remove("is-enter-active"),m(this.element,"",(function(){t.element.setAttribute("aria-hidden","true"),x(t,L),t.element.classList.remove("is-enter"),t.bodyScrollControl(),t.isOpened=!1,t.settings.afterClose(t,y)}))}},n.bodyScrollControl=function(){var t=document.querySelectorAll(this.settings.fixedSelector),e=Array.from(t),n=document.documentElement,i=document.querySelector("body");if(!0===this.isOpened)return n.classList.remove(g+"-opened"),i.style.paddingRight="",e.forEach((function(t){t.style.paddingRight=""})),window.scrollTo(0,this.scrollPosition),void(n.style.top="");this.scrollPosition=window.scrollY;var s=window.innerWidth-n.clientWidth;n.style.top=-this.scrollPosition+"px",s&&(i.style.paddingRight=s+"px",e.forEach((function(t){t.style.paddingRight=parseInt(getComputedStyle(t).paddingRight,10)+s+"px"}))),n.classList.add(g+"-opened")},n.setHash=function(){this.scrollPosition=window.scrollY,window.location.hash=this.hashID},n.deleteHash=function(){window.location.hash="",window.scrollTo(0,this.scrollPosition)},e}();return document.addEventListener("click",A.handleClickEvent),window.addEventListener("keydown",A.handleKeydownEvent),window.addEventListener("hashchange",A.handleHashChangeEvent),A}));
//# sourceMappingURL=index.min.js.map