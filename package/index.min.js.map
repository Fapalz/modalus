{"version":3,"file":"index.min.js","names":["global","factory","exports","module","define","amd","globalThis","self","Modalus","this","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","inBrowser","window","UA","WXEnvironment","platform","toLowerCase","navigator","userAgent","test","isIE9","indexOf","match","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","undefined","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","bind","setTimeout","fn","toMs","s","Number","slice","replace","getTimeout","delays","durations","concat","Math","max","map","d","transformRE","whenTransitionEnds","el","expectedType","cb","_getTransitionInfo","type","styles","getComputedStyle","transitionDelays","split","transitionDurations","transitionTimeout","animationDelays","animationDurations","animationTimeout","timeout","propCount","hasTransform","getTransitionInfo","event","ended","end","removeEventListener","onEnd","e","addEventListener","FOCUSABLE_ELEMENTS","getFocusableNodes","container","nodes","querySelectorAll","Array","NAMESPACE","MODALUS_GLOBALS","LOOKUP","OPENS","DEFAULTS","hashTracking","closeOnButton","closeOnEscape","closeOnOutsideClick","appendTo","catchFocus","closeTrigger","fixedSelector","beforeOpen","afterOpen","beforeClose","afterClose","STATES","namespacify","result","setState","instance","state","_instance$element$cla","newState","allStates","element","classList","remove","add","options","getElement","err","settings","index","push","isInit","init","getInstance","getAttribute","obj","document","querySelector","nodeType","Error","hashID","location","hash","substr","open","handleHashChangeEvent","elem","id","current","console","log","close","handleClickEvent","clickedlink","closest","preventDefault","targetSelector","modal","handleKeydownEvent","which","focusableNodes","filter","node","offsetParent","contains","activeElement","focusedItemIndex","shiftKey","focus","retainFocus","_proto","_this","scrollPosition","setAttribute","forEach","method","isOpened","overlayChecker","destroy","removeAttribute","splice","addListener","onClick","onMouseDown","onMouseUp","removeListener","Element","hasAttribute","_this2","setHash","setFocusToFirstNode","bodyScrollControl","_this3","deleteHash","fixedSelectorsElements","fixedSelectors","from","html","documentElement","body","style","paddingRight","elements","scrollTo","top","scrollY","paddingSize","innerWidth","clientWidth","parseInt"],"sources":["0"],"mappings":";;;;;;;;;;;;CAYC,SAAUA,EAAQC,GACE,iBAAZC,SAA0C,oBAAXC,OAAyBA,OAAOD,QAAUD,IAC9D,mBAAXG,QAAyBA,OAAOC,IAAMD,OAAOH,IACnDD,EAA+B,oBAAfM,WAA6BA,WAAaN,GAAUO,MAAaC,QAAUP,GAC9F,CAJA,CAIEQ,MAAM,WAAe,aAErB,SAASC,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CAEA,OAAOL,CACT,EAEOH,EAASY,MAAMb,KAAMM,UAC9B,CAEA,IAAIQ,EAA8B,oBAAXC,OAKnBC,GAHqB,oBAAlBC,iBAAmCA,cAAcC,UAE3BD,cAAcC,SAASC,cAC3CL,GAAaC,OAAOK,UAAUC,UAAUF,eACjDH,GAAM,eAAeM,KAAKN,GAC1B,IAAIO,EAAQP,GAAMA,EAAGQ,QAAQ,YAAc,EAC9BR,GAAMA,EAAGQ,QAAQ,SAC9BR,GAAMA,EAAGQ,QAAQ,WACjBR,GAAM,uBAAuBM,KAAKN,GAClCA,GAAM,cAAcM,KAAKN,GACzBA,GAAM,YAAYM,KAAKN,GACvBA,GAAMA,EAAGS,MAAM,kBAGf,IACIC,EAAa,aACbC,EAAY,YAEZC,EAAiB,aACjBC,EAAqB,gBACrBC,EAAgB,YAChBC,EAAoB,eAPJjB,IAAcS,SAWDS,IAA3BjB,OAAOkB,sBAAkED,IAAjCjB,OAAOmB,wBACjDN,EAAiB,mBACjBC,EAAqB,4BAGOG,IAA1BjB,OAAOoB,qBAAgEH,IAAhCjB,OAAOqB,uBAChDN,EAAgB,kBAChBC,EAAoB,uBAKxB,IAAIM,EAAMvB,EAAYC,OAAOuB,sBAAwBvB,OAAOuB,sBAAsBC,KAAKxB,QAAUyB,WAAa,SAAUC,GACtH,OAAOA,GACT,EAKA,SAASC,EAAKC,GACZ,OAAkD,IAA3CC,OAAOD,EAAEE,MAAM,GAAI,GAAGC,QAAQ,IAAK,KAC5C,CAEA,SAASC,EAAWC,EAAQC,GAC1B,KAAOD,EAAOzC,OAAS0C,EAAU1C,QAE/ByC,EAASA,EAAOE,OAAOF,GAGzB,OAAOG,KAAKC,IAAIvC,MAAM,KAAMoC,EAAUI,KAAI,SAAUC,EAAGjD,GACrD,OAAOqC,EAAKY,GAAKZ,EAAKM,EAAO3C,GAC/B,IACF,CAEA,IAAIkD,EAAc,yBAyClB,SAASC,EAAmBC,EAAIC,EAAcC,GAC5C,IAAIC,EAzCN,SAA2BH,EAAIC,GAC7B,IAQIG,EARAC,EAAS/C,OAAOgD,iBAAiBN,GAEjCO,GAAoBF,EAAOlC,EAAiB,UAAY,IAAIqC,MAAM,MAClEC,GAAuBJ,EAAOlC,EAAiB,aAAe,IAAIqC,MAAM,MACxEE,EAAoBpB,EAAWiB,EAAkBE,GACjDE,GAAmBN,EAAOhC,EAAgB,UAAY,IAAImC,MAAM,MAChEI,GAAsBP,EAAOhC,EAAgB,aAAe,IAAImC,MAAM,MACtEK,EAAmBvB,EAAWqB,EAAiBC,GAE/CE,EAAU,EACVC,EAAY,EAsBhB,OAnBId,IAAiBhC,EACfyC,EAAoB,IACtBN,EAAOnC,EACP6C,EAAUJ,EACVK,EAAYN,EAAoB3D,QAEzBmD,IAAiB/B,EACtB2C,EAAmB,IACrBT,EAAOlC,EACP4C,EAAUD,EACVE,EAAYH,EAAmB9D,QAKjCiE,GADAX,GADAU,EAAUpB,KAAKC,IAAIe,EAAmBG,IACrB,EAAIH,EAAoBG,EAAmB5C,EAAaC,EAAY,MAClEkC,IAASnC,EAAawC,EAAoB3D,OAAS8D,EAAmB9D,OAAS,EAI7F,CACLsD,KAAMA,EACNU,QAASA,EACTC,UAAWA,EACXC,aALiBZ,IAASnC,GAAc6B,EAAYjC,KAAKwC,EAAOlC,EAAiB,aAOrF,CAE2B8C,CAAkBjB,EAAIC,GAC3CG,EAAOD,EAAmBC,KAC1BU,EAAUX,EAAmBW,QAC7BC,EAAYZ,EAAmBY,UAEnC,IAAKX,EAAM,OAAOF,IAClB,IAAIgB,EAAQd,IAASnC,EAAaG,EAAqBE,EACnD6C,EAAQ,EAERC,EAAM,WAERpB,EAAGqB,oBAAoBH,EAAOI,GAC9BpB,GACF,EAEIoB,EAAQ,SAAeC,GACrBA,EAAE5E,SAAWqD,IACfmB,GAAS,IAEIJ,GACXK,GAGN,EAQA,OANArC,YAAW,WACLoC,EAAQJ,GACVK,GAEJ,GAAGN,EAAU,GACbd,EAAGwB,iBAAiBN,EAAOI,GACpBtB,CACT,CAOA,IAAIyB,EAAqB,CAAC,UAAW,aAAc,gEAAiE,4CAA6C,8CAA+C,4CAA6C,SAAU,SAAU,QAAS,oBAAqB,mCAC/S,SAASC,EAAkBC,GACzB,IAAKA,EAAW,OAAO,EACvB,IAAIC,EAAQD,EAAUE,iBAAiBJ,GACvC,OAAOK,MAAM1E,WAAM,EAAQwE,EAC7B,CA4CA,IAKIG,EAAYzE,OAAO0E,iBAAmB1E,OAAO0E,gBAAgBD,WAD/C,UAEdE,EAAS,GACTC,EAAQ,GACRC,EAAW,CACbC,cAAc,EACdC,eAAe,EACfC,eAAe,EACfC,qBAAqB,EACrBC,SAAU,KACVC,YAAY,EACZC,aAAc,QAAUX,EAAY,SACpCY,cAAe,SAAWZ,EAAY,UACtCa,WAAY,WAAuB,EACnCC,UAAW,WAAsB,EACjCC,YAAa,WAAwB,EACrCC,WAAY,WAAuB,GAGjCC,EACO,UADPA,EAEM,SAFNA,EAGO,UAHPA,EAIM,SASV,SAASC,IAGP,IAFA,IAAIC,EAASnB,EAEJnF,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,GAAK,EAEzCsG,GAAU,IAAMrG,UAAUD,GAG5B,OAAOsG,CACT,CAWA,SAASC,EAASC,EAAUC,GAC1B,IAAIC,EAEAC,EAAWN,EAAY,KAAMI,GAC7BG,EAAY,CAACP,EAAY,KAAMD,GAAiBC,EAAY,KAAMD,GAAiBC,EAAY,KAAMD,GAAgBC,EAAY,KAAMD,KAE1IM,EAAwBF,EAASK,QAAQC,WAAWC,OAAOvG,MAAMkG,EAAuBE,GAEzFJ,EAASK,QAAQC,UAAUE,IAAIL,GAE/BH,EAASC,MAAQA,CACnB,CAEA,IAAI/G,EAAuB,WACzB,SAASA,EAAQmH,EAASI,GAQxB,IACEtH,KAAKkH,QAAUnH,EAAQwH,WAAWL,EACpC,CAAE,MAAOM,GACP,MACF,CAEAxH,KAAKyH,SAAWxH,EAAS,CAAC,EAAG2F,EAAU0B,GACvCtH,KAAK8G,MAAQL,EACbzG,KAAK0H,MAAQhC,EAAOiC,KAAK3H,MAAQ,EACjCA,KAAK4H,QAAS,EACd5H,KAAK6H,MACP,CAEA9H,EAAQ+H,YAAc,SAAqBZ,GACzC,IAAKA,EAAS,OAAO,KACrB,IAAIQ,EAAQR,EAAQa,aAAa,QAAUvC,EAAY,UACvD,OAAKkC,EACEhC,EAAOgC,GADK,IAErB,EAEA3H,EAAQwH,WAAa,SAAoBL,GACvC,IAnGqCc,EAmGjCvE,EAAwB,iBAAZyD,EAAuBe,SAASC,cAAchB,GAAWA,EAEzE,KArGqCc,EAqGnBvE,IApGc,IAAjBuE,EAAIG,SAqGjB,MAAM,IAAIC,MAAM,0DAGlB,OAAO3E,CACT,EAEA1D,EAAQ8H,KAAO,SAAcX,EAASI,GAKpC,IAAI7D,OAJY,IAAZ6D,IACFA,EAAU,CAAC,GAKb,IACE7D,EAAK1D,EAAQwH,WAAWL,EAC1B,CAAE,MAAOM,GACP,OAAO,IACT,CAEA,IAAIX,EAAW9G,EAAQ+H,YAAYrE,GAUnC,OARKoD,IACHA,EAAW,IAAI9G,EAAQ0D,EAAI6D,IAEdG,SAAS5B,cAAgBgB,EAASwB,SAAWtH,OAAOuH,SAASC,KAAKC,OAAO,IACpF3B,EAAS4B,OAIN5B,CACT,EAQA9G,EAAQ2I,sBAAwB,WAC9B,IACI7B,EACA8B,EAFAC,EAAK7H,OAAOuH,SAASC,KAAKzF,QAAQ,IAAK,IAGvC+F,EAAUlD,EAAMA,EAAMpF,OAAS,GAEnC,GAAKqI,EAQE,CAEL,IACED,EAAOV,SAASC,cAAc,SAAW1C,EAAY,QAAWoD,EAAK,KACvE,CAAE,MAAOpB,GACPsB,QAAQC,IAAIvB,EACd,CAEImB,IACF9B,EAAW9G,EAAQ+H,YAAYa,KAEf9B,EAASY,SAAS5B,cAChCgB,EAAS4B,MAGf,MAlBMI,GAAWA,EAAQpB,SAAS5B,cAC9BgD,EAAQG,OAkBd,EAEAjJ,EAAQkJ,iBAAmB,SAA0BjE,GACnD,IAAI6B,GAAW,EACXqC,EAAclE,EAAE5E,OAAO+I,QAAQ,SAAW3D,EAAY,aAE1D,GAAI0D,EAAa,CACflE,EAAEoE,iBACF,IAAIC,EAAiBH,EAAYnB,aAAa,wBAC1CuB,EAAQrB,SAASC,cAAc,SAAW1C,EAAY,OAAS6D,EAAiB,KAEpF,GAAIC,EAAO,CAET,KADAzC,EAAW9G,EAAQ+H,YAAYwB,IAChB,OACfzC,EAAS4B,MACX,CAGA,OAAO5B,CACT,CACF,EAEA9G,EAAQwJ,mBAAqB,SAA4BvE,GACvD,GAAIW,EAAMpF,OAAS,EAAG,CACpB,IAAIsI,EAAUlD,EAAMA,EAAMpF,OAAS,GAEnC,GAAIsI,EAAQpB,SAAS1B,eAA6B,KAAZf,EAAEwE,MAGtC,OAFAxE,EAAEoE,sBACFP,EAAQG,QAINH,EAAQpB,SAASvB,YAA0B,IAAZlB,EAAEwE,OAzO3C,SAAqB7E,EAAOS,GAC1B,IAAIqE,EAAiBtE,EAAkBC,GAEvC,GAA8B,IAA1BqE,EAAelJ,OAUnB,GAJAkJ,EAAiBA,EAAeC,QAAO,SAAUC,GAC/C,OAA6B,OAAtBA,EAAKC,YACd,IAEKxE,EAAUyE,SAAS5B,SAAS6B,eAG1B,CACL,IAAIC,EAAmBN,EAAejI,QAAQyG,SAAS6B,eAEnDnF,EAAMqF,UAAiC,IAArBD,IACpBN,EAAeA,EAAelJ,OAAS,GAAG0J,QAC1CtF,EAAMyE,mBAGHzE,EAAMqF,UAAYP,EAAelJ,OAAS,GAAKwJ,IAAqBN,EAAelJ,OAAS,IAC/FkJ,EAAe,GAAGQ,QAClBtF,EAAMyE,iBAEV,MAdEK,EAAe,GAAGQ,QAClBtF,EAAMyE,gBAcV,CA6MQc,CAAYlF,EAAG6D,EAAQ3B,QAE3B,CACF,EAEA,IAAIiD,EAASpK,EAAQW,UA4KrB,OA1KAyJ,EAAOtC,KAAO,WACZ,IAAIuC,EAAQpK,KAERA,KAAK4H,SACT5H,KAAKqI,OAASrI,KAAKkH,QAAQa,aAAa,QAAUvC,EAAY,OAC9DxF,KAAKqK,eAAiB,EACtBrK,KAAKkH,QAAQC,UAAUE,IAAI,iBAAkBX,EAAY,KAAMD,IAC/DzG,KAAKkH,QAAQoD,aAAa,QAAU9E,EAAY,SAAUxF,KAAK0H,OAC/D,CAAC,UAAW,cAAe,aAAa6C,SAAQ,SAAUC,GACxDJ,EAAMI,GAAUJ,EAAMI,GAAQjI,KAAK6H,EACrC,IACApK,KAAKyK,UAAW,EAChBzK,KAAK0K,gBAAiB,EACtB1K,KAAK4H,QAAS,EAChB,EAEAuC,EAAOQ,QAAU,WACf3K,KAAKgJ,QACLhJ,KAAKkH,QAAQ0D,gBAAgB,QAAUpF,EAAY,UACnDxF,KAAKkH,QAAQC,UAAUC,OAAO,kBAC9B,IAAIM,EAAQhC,EAAOlE,QAAQxB,MAC3B0F,EAAOmF,OAAOnD,EAAO,GACrB1H,KAAK4H,QAAS,CAChB,EAEAuC,EAAOW,YAAc,WACnB9K,KAAKkH,QAAQjC,iBAAiB,QAASjF,KAAK+K,SAC5C/K,KAAKkH,QAAQjC,iBAAiB,YAAajF,KAAKgL,aAChDhL,KAAKkH,QAAQjC,iBAAiB,UAAWjF,KAAKiL,UAChD,EAEAd,EAAOe,eAAiB,WACtBlL,KAAKkH,QAAQpC,oBAAoB,QAAS9E,KAAK+K,SAC/C/K,KAAKkH,QAAQpC,oBAAoB,YAAa9E,KAAKgL,aACnDhL,KAAKkH,QAAQpC,oBAAoB,UAAW9E,KAAKiL,UACnD,EAEAd,EAAOY,QAAU,SAAiB/F,GAC5BhF,KAAKyH,SAAS3B,eAAiBd,EAAE5E,OAAO+I,QAAQ,IAAMnJ,KAAKyH,SAAStB,aAAe,MACrFnG,KAAKgJ,MAAMhE,EAEf,EAEAmF,EAAOa,YAAc,SAAqBhG,GACnChF,KAAKyH,SAASzB,qBAEfhG,KAAK8G,QAAUL,GAAkBzG,KAAK8G,QAAUL,GAAkBzB,EAAE5E,kBAAkB+K,SAAuB,IAAZnG,EAAEwE,OAAexE,EAAE5E,OAAOgL,aAAa,0BAC1IpL,KAAK0K,gBAAiB,EAE1B,EAEAP,EAAOc,UAAY,SAAmBjG,GAC/BhF,KAAKyH,SAASzB,sBAEfhG,KAAK8G,QAAUL,GAAkBzG,KAAK8G,QAAUL,GAAkBzB,EAAE5E,kBAAkB+K,SAAWnL,KAAK0K,gBAAkB1F,EAAE5E,OAAOgL,aAAa,0BAChJpG,EAAEoE,iBACFpJ,KAAKgJ,SAGPhJ,KAAK0K,gBAAiB,EACxB,EAEAP,EAAO1B,KAAO,WACZ,IAAI4C,EAASrL,KAEb,GAAIA,KAAK8G,QAAUL,GAAiBzG,KAAK8G,QAAUL,GAAkBzG,KAAK8G,QAAUL,EAApF,CACAzG,KAAKyH,SAASpB,WAAWrG,KAAM2F,GAC/B,IA5UelD,EA4UXoG,EAAUlD,EAAMA,EAAMpF,OAAS,GAEnCsI,GAAUA,EAAQG,QAEdhJ,KAAKqI,QAAUrI,KAAKyH,SAAS5B,cAC/B7F,KAAKsL,UAGP1E,EAAS5G,KAAMyG,GACfzG,KAAKkH,QAAQC,UAAUE,IAAI,YArVZ5E,EAsVL,WACR4I,EAAOP,cAEPO,EAAOnE,QAAQoD,aAAa,cAAe,SAE3C1D,EAASyE,EAAQ5E,GAEjB4E,EAAOnE,QAAQC,UAAUE,IAAI,mBA5UnC,SAA6BjC,GAC3B,GAAKA,EAAL,CACA,IAAIqE,EAAiBtE,EAAkBC,GAET,IAA1BqE,EAAelJ,QACnBkJ,EAAe,GAAGQ,OAJI,CAKxB,CAwUMsB,CAAoBF,EAAOnE,SAC3BvB,EAAMgC,KAAK0D,GAEXA,EAAOG,oBAEPH,EAAOZ,UAAW,EAElBY,EAAO5D,SAASnB,UAAU+E,EAAQ1F,EACpC,EAtWFtD,GAAI,WACFA,EAAII,EACN,GAuU4G,CA8B5G,EAEA0H,EAAOnB,MAAQ,WACb,IAAIyC,EAASzL,KAEb,GAAIA,KAAK8G,QAAUL,GAAiBzG,KAAK8G,QAAUL,GAAkBzG,KAAK8G,QAAUL,EAApF,CACAzG,KAAKyH,SAASlB,YAAYvG,KAAM2F,GAE5B3F,KAAKyH,SAAS5B,cAAgB7F,KAAKqI,SAAWtH,OAAOuH,SAASC,KAAKC,OAAO,IAC5ExI,KAAK0L,aAGP,IAAIhE,EAAQ/B,EAAMnE,QAAQxB,MAC1B2F,EAAMkF,OAAOnD,EAAO,GACpB1H,KAAKkL,iBACLtE,EAAS5G,KAAMyG,GACfzG,KAAKkH,QAAQC,UAAUC,OAAO,mBAC9B5D,EAAmBxD,KAAKkH,QAAS,IAAI,WACnCuE,EAAOvE,QAAQoD,aAAa,cAAe,QAE3C1D,EAAS6E,EAAQhF,GAEjBgF,EAAOvE,QAAQC,UAAUC,OAAO,YAEhCqE,EAAOD,oBAEPC,EAAOhB,UAAW,EAElBgB,EAAOhE,SAASjB,WAAWiF,EAAQ9F,EACrC,GAxB0G,CAyB5G,EAEAwE,EAAOqB,kBAAoB,WACzB,IAAIG,EAAyB1D,SAAS3C,iBAAiBtF,KAAKyH,SAASrB,eACjEwF,EAAiBrG,MAAMsG,KAAKF,GAC5BG,EAAO7D,SAAS8D,gBAChBC,EAAO/D,SAASC,cAAc,QAElC,IAAsB,IAAlBlI,KAAKyK,SASP,OARAqB,EAAK3E,UAAUC,OAAO5B,EAAY,WAClCwG,EAAKC,MAAMC,aAAe,GAC1BN,EAAerB,SAAQ,SAAU4B,GAE/BA,EAASF,MAAMC,aAAe,EAChC,IACAnL,OAAOqL,SAAS,EAAGpM,KAAKqK,qBACxByB,EAAKG,MAAMI,IAAM,IAInBrM,KAAKqK,eAAiBtJ,OAAOuL,QAC7B,IAAIC,EAAcxL,OAAOyL,WAAaV,EAAKW,YAC3CX,EAAKG,MAAMI,KAAOrM,KAAKqK,eAAiB,KAEpCkC,IACFP,EAAKC,MAAMC,aAAeK,EAAc,KACxCX,EAAerB,SAAQ,SAAU9G,GAE/BA,EAAGwI,MAAMC,aAAeQ,SAAS3I,iBAAiBN,GAAIyI,aAAc,IAAMK,EAAc,IAC1F,KAGFT,EAAK3E,UAAUE,IAAI7B,EAAY,UACjC,EAEA2E,EAAOmB,QAAU,WACftL,KAAKqK,eAAiBtJ,OAAOuL,QAC7BvL,OAAOuH,SAASC,KAAOvI,KAAKqI,MAC9B,EAEA8B,EAAOuB,WAAa,WAClB3K,OAAOuH,SAASC,KAAO,GACvBxH,OAAOqL,SAAS,EAAGpM,KAAKqK,eAC1B,EAEOtK,CACT,CAxT2B,GA8T3B,OAJAkI,SAAShD,iBAAiB,QAASlF,EAAQkJ,kBAC3ClI,OAAOkE,iBAAiB,UAAWlF,EAAQwJ,oBAC3CxI,OAAOkE,iBAAiB,aAAclF,EAAQ2I,uBAEvC3I,CAER"}